<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaft.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <title>광고 목록</title>
</head>
<body>
<script type="text/javascript">
    window.onload = function () {
        var str = '';

        $.ajax({
            type: "GET",
            url: "/core/v1/creative/",
            contentType: "application/json",
            success: function(data) {
                $.each(data, function(i) {
                    str += '<tr>';
                    str += '<td>' + data[i].id + '</td>';
                    str += '<td>' + data[i].title + '</td>';
                    str += '<td>' + data[i].status + '</td>';
                    str += '<td>' + data[i].price + '</td>';
                    str += '<td>' + data[i].advertiseStartDate + '</td>';
                    str += '<td>' + data[i].advertiseEndDate + '</td>';
                    str += '<td><img src="http://localhost:8081/images/' + data[i].creativeImages[0].id + '.' + data[i].creativeImages[0].extension + '" style="width: 300px; height: 100px;"></td>';
                    str += '<td>' + data[i].creativeCount.count + '</td>';
                    str += '<td>' + '<input type="button" value="삭제" onclick="deleteCreative(' + data[i].id + ')">' + '</td>';
                    str += '</tr>';
                });
                $('#creativeList').append(str);
            },
            error: function(e) {
                console.log("Error: " + e);
            }
        })
    }



</script>
<div style="clear: both">
    <table id="creativeList" border="1" width="100%">
        <tr>
            <td>
                제목
            </td>
            <td>
                상태
            </td>
            <td>
                낙찰가
            </td>
            <td>
                광고시작일시
            </td>
            <td>
                광고종료일시
            </td>
            <td>
                이미지
            </td>
            <td>
                노출횟수
            </td>
        </tr>
    </table>
</div>
</body>
</html>